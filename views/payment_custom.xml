<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Template personalizado para la página de payment -->
    <!-- Modifica el enlace de editar para incluir el parámetro from_payment=1 -->
    
    <template id="payment_custom_edit_link" name="Payment Custom Edit Link" inherit_id="website_sale.payment">
        <!-- Modificar el enlace de editar dirección de facturación -->
        <xpath expr="//a[contains(@href, '/shop/checkout')]" position="attributes">
            <attribute name="href">/shop/checkout?from_payment=1</attribute>
        </xpath>
    </template>
    
    <!-- Template alternativo si el selector anterior no funciona -->
    <template id="payment_custom_edit_link_alt" name="Payment Custom Edit Link Alternative" inherit_id="website_sale.payment">
        <!-- Buscar por texto "Editar" -->
        <xpath expr="//a[contains(text(), 'Editar') or contains(text(), 'Edit')]" position="attributes">
            <attribute name="href">/shop/checkout?from_payment=1</attribute>
        </xpath>
    </template>
    
    <!-- Template más específico para la sección de dirección de facturación -->
    <template id="payment_billing_address_edit" name="Payment Billing Address Edit" inherit_id="website_sale.payment">
        <!-- Modificar específicamente el enlace en la sección de facturación -->
        <xpath expr="//div[contains(@class, 'js_billing')]//a[contains(@href, '/shop/checkout')]" position="attributes">
            <attribute name="href">/shop/checkout?from_payment=1</attribute>
        </xpath>
    </template>
    
</odoo>